{% extends "base_template.html" %}
{% load filters %}

{% block title %}
<title>Explore</title>
{% endblock %}

{% block customcss %}
{% load static %}
<link rel="stylesheet" href="{% static 'styles/explore.css' %}">
{% endblock %}

{% block content %}
<div class = "container-fluid">
  <div class = "row">

    <!--side bar-->
    <nav class="col-md-2 d-md-block bg-light sidebar filter-sidebar"><!--remove bg-light to change color w/ .sidebar -->
      <div class="sidebar-sticky">
        <h2 align="center"> Filter by:</h2>

        <!--checkboxes, probably what we want, just need to make them look better -->
        <div class="filter-btn-container text-center">
          <div class="btn-group-toggle" data-toggle="buttons">
            <label class="btn btn-secondary btn-block">
              <input type="checkbox" checked> Anger
            </label>
          </div>
          <div class="btn-group-toggle" data-toggle="buttons">
            <label class="btn btn-secondary btn-block">
              <input type="checkbox"> Disgust
            </label>
          </div>
          <div class="btn-group-toggle" data-toggle="buttons">
            <label class="btn btn-secondary btn-block">
              <input type="checkbox"> Happy
            </label>
          </div>
          <div class="btn-group-toggle" data-toggle="buttons">
            <label class="btn btn-secondary btn-block">
              <input type="checkbox"> Sadness
            </label>
          </div>
          <div class="btn-group-toggle" data-toggle="buttons">
            <label class="btn btn-secondary btn-block">
              <input type="checkbox"> Surprise
            </label>
          </div>
        </div>
      </div>
    </nav>

    <!-- New Section -->
    <main role ="main" class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4">
      {% if new_videos %}
      <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">
        <h1 class="h2">New</h1>
      </div>
      <div class="album py-5">
        <div class="container">

          <div class="row">

            {% for new_video in new_videos %}
            <!-- add top emotion class below -->
            <div class="col-md-4 video-container">
              <div class="card mb-4 box-shadow">
                <a href="#">
                  <img class="card-img-top" src="{{new_video|youtube_thumbnail}}">
                </a>
                <div class="card-body">
                  <h6 class="card-text">{{new_video.title}}</h6>
                  <div class="d-flex justify-content-between align-items-center">
                    <a href="#" class="card-link text-secondary">{{new_video.uploader_id.username}}</a>
                  </div>
                  <div class="d-flex justify-content-between align-items-center">
                    <a href="#" class="card-link text-secondary">top emotion: {{new_video|top_emotion}}</a>
                    <small class="text-muted"><i class="fas fa-eye"></i>{{new_video.todays_views}}</small>
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>
      {% endif %}

      <!-- Popular Section -->
      {% if popular_videos %}
      <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">
        <h1 class="h2">Popular</h1>
      </div>
      <div class="album py-5">
        <div class="container">
          <div class="row">
            {% for popular_video in popular_videos %}
            <div class="col-md-4">
              <div class="card mb-4 box-shadow">
                <a href="#">
                  <img class="card-img-top" data-src="holder.js/100px225?theme=thumb&amp;bg=55595c&amp;fg=eceeef&amp;text=Thumbnail" alt="Thumbnail [100%x225]" style="height: 225px; width: 100%; display: block;" src="{% static 'images/explore-images/Img4.jpeg' %}" data-holder-rendered="true">
                </a>
                <div class="card-body">
                  <h6 class="card-text">Best Band Globe</h6>
                  <div class="d-flex justify-content-between align-items-center">
                    <a href="#" class="card-link text-secondary">imheretostealyourmemes</a>
                  </div>
                  <div class="d-flex justify-content-between align-items-center">
                    <a href="#" class="card-link text-secondary">top emotion: surprise</a>
                    <small class="text-muted">5.8K views</small>
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}

          </div>
        </div>
      </div>

      {% endif %}
    </main>
  </div>
</div>
{% endblock %}
